# 시스템 호출과 라이브러리
> 컴퓨터의 보호를 위해서 일반적인 사용자 프로그램은 하드웨어 자원을 직접적으로 이용하지 못한다.
<br/> 그렇다면 사용자 프로그램은 어떻게 운영체제의 자원에 접근 할 수 있을까? 많은 개발자들이 자기도 모르는 사이 `시스템 함수와 시스템 라이브러리`를 통해 접근하고 있다.

## 시스템 호출
운영체제가 제공하는 서비스에 대한 프로그래밍 인터페이스(System 함수)
* 하드웨어의 상세한 동작을 추상화 (프로그램의 편의성)
* 운영체제를 통해서만 하드웨어의 자원에 접근 (보호)

일반적으로 C/C++ 언어로 작성되서 함수 형태로 제공된다.<br/>

##응용프로그램 인터페이스
Application Program Interface(API)
* 시스템 호출을 일반 프로그래머들이 쉽게 사용 할 수 있게 보다 높은 수준의 함수 집합을 제공
* 커널 서비스를 사용해서 사용자에게 더 편한 접근성을 가져다 주는 커널 라이브러리
* 일반적인 API의 예시
  * win32 API, POSIX API, JAVA API
* 응용 프로그래머들이 실제로 사용하는 프로그래밍 인터페이스

## 시스템 호출(System Call) 인터페이스
시스템 호출이 사용됐을때 동작이 되는 과정을 나타내는 그림
![system call interface](../images/lec4/os4_1.JPG)
겉으로 보면 단순한 함수 호출과 리턴으로 보이지만 실제로는 다르다.<br/>
예를들어 user application가 커널의 `open()` 함수를 call 했다면 단순하게 커널의 `open()`함수를 실행하는것이 아니라 `system call interface`에서 특정 함수를 실행하기 위한 `system call interrupt`라는 소프트웨어 인터럽트를 운영체제에 발생시킨다.
`system call interrupt`는 인터럽트 벡터에서 해당 인터럽트를 처리하는 함수를 찾아내서 실행시키고 값을 반환한다.<br/>
이 과정에서 `user mode(1)`와 `kernel mode(0)` 전환 또한 일어난다. 

## 